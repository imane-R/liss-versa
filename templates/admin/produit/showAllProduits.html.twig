{% extends 'layout.html.twig' %}

{% block title %}
  liste des produits admin
{% endblock %}

{% block content %}
  <table id="table">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">titre</th>
        <th scope="col">description</th>
        <th scope="col">image</th>
        <th scope="col">prix</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for produit in produits %}
        <tr>
          <td>{{ produit.id }}</td>
          <td>{{ produit.titre }}</td>
          <td>{{ produit.description|slice(0, 100)|raw }} ...</td>
          <td>
            <img class="showallImage" src="{{ asset('images/produits/' ~ produit.image) }}" alt="{{ produit.titre }}" />
          </td>
          <td>{{ produit.prix }}</td>
          <td>
            <a href="{{ path('admin_produit_details', { id: produit.id }) }}"><i class="fas fa-eye mx-1 text-primary"></i></a>
            <a href="{{ path('admin_produit_update', { id: produit.id }) }}"><i class="fas fa-edit mx-1 text-success"></i></a>
            <a href="{{ path('admin_produit_delete', { id: produit.id }) }}" onclick="return confirm('êtes vous sûr de vouloir supprimer le produit ?')"><i class="fas fa-trash mx-1 text-danger"></i></a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
